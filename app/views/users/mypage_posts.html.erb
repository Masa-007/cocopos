<main class="flex-grow pt-24 pb-12">
  <div class="container mx-auto max-w-6xl px-6">

    <div class="text-center mb-10">
      <h1 class="text-4xl font-bold text-gray-800 mb-2">📮 あなたの投稿一覧</h1>
      <p class="text-gray-600">これまで投函した想いを振り返りましょう</p>
    </div>

    <%= render "posts/search_form" %>

     <%= render "posts/filter_sort",
               path: ->(**args) { posts_path(**args) },
               from: "public",
               pc_label: "絞り込み：",
               filters: [
                 { value: nil,        text: "すべて" },
                 { value: "future",   text: "🌱 未来宣言箱" },
                 { value: "organize", text: "🌈 心の整理箱" },
                 { value: "thanks",   text: "💌 感謝箱" }
               ] %>

    <!-- 投稿一覧（カードは共通 partial に集約） -->
    <div class="posts-grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <%= render partial: "posts/card",
                 collection: @posts,
                 as: :post,
                 locals: { from: "mypage" } %>

      <% if @posts.empty? %>
        <div class="col-span-full text-center py-12 text-gray-500">
          まだ投稿がありません。
        </div>
      <% end %>
    </div>

    <% if @posts.respond_to?(:current_page) %>
      <div class="flex justify-center mt-12">
        <%= paginate @posts %>
      </div>
    <% end %>

  </div>
</main>
